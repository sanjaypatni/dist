{"version":3,"file":"src_app_create-pc_create-pc_module_ts.js","mappings":"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","sources":["./src/app/create-pc/create-pc-routing.module.ts","./src/app/create-pc/create-pc.module.ts","./src/app/create-pc/create-pc.page.ts","./src/app/models/playclip.ts","./src/app/services/playclips.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CreatePcPage } from './create-pc.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CreatePcPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CreatePcPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CreatePcPageRoutingModule } from './create-pc-routing.module';\n\nimport { CreatePcPage } from './create-pc.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CreatePcPageRoutingModule\n  ],\n  declarations: [CreatePcPage]\n})\nexport class CreatePcPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {Platform, AlertController, NavController, ToastController, LoadingController} from '@ionic/angular'\nimport { SigninService } from '../services/sign-in.service';\nimport { PlayclipsService } from '../services/playclips.service';\nimport { IonInfiniteScroll, IonVirtualScroll } from '@ionic/angular';\nimport { ViewChild } from '@angular/core';\nimport {Messages} from '../messages'\nimport {Playclip} from '../models/playclip'\nimport {Clip} from '../models/clip'\n\n@Component({\n  selector: 'app-create-pc',\n  templateUrl: './create-pc.page.html',\n  styleUrls: ['./create-pc.page.scss'],\n})\nexport class CreatePcPage implements OnInit {\n@ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n@ViewChild(IonVirtualScroll) virtualScroll: IonVirtualScroll;\n  ngOnInit() {\n  }\n  selectedRadioGroup:any;\n  selectedRadioItem:any;\n  message: string = \"\";\n  mlink : string = \"\";\n  title: string;\n  description: string;\n  createdBy: string;\n  toast: any;\n  playclip : Playclip = new Playclip();\n  constructor(private signinService: SigninService, private playclipsService: PlayclipsService, private toastCtrl: ToastController, private navCtrl: NavController,  private messages : Messages) {\n   \n  }\n  delete(link) {\n     for (let i = 0; i<this.signinService.pcClips.length; i++)\n      this.signinService.pcClips[i].ilink = link;\n     const uClips = this.signinService.pcClips.filter(this.deleteItem);\n     this.signinService.pcClips = uClips;\n     this.signinService.pcCnt = this.signinService.pcCnt - 1;\n    }\n   deleteItem(item) {\n     return item.ilink != item.link;\n   }\n   savePc() {\n     this.validate();\n     if ( this.message.length > 0 )\n     {\n      this.showToast(this.message);\n      this.message = \"\";\n      return;\n     }\n     this.playclip = new Playclip();\n     this.playclip.login = this.signinService.user.login;\n     this.playclip.title = this.title;\n     this.playclip.description = this.description;\n     this.playclip.createdBy = this.createdBy;\n     this.playclip.clips = this.signinService.pcClips;\n     for (let i = 0; i<this.signinService.pcClips.length; i++)\n      this.playclip.price = this.playclip.price + this.signinService.pcClips[i].price; \n     this.playclip.thumbnail = this.signinService.pcClips[0].thumbnail;\n     this.playclipsService.createPlayclips(this.playclip).subscribe((response) => {\n      this.message = this.messages.success;\n      this.showToast(this.message);\n      this.navCtrl.navigateForward(\"tab4\")\n    });\n  }\n  loadData(event) {\n\n    // Using settimeout to simulate api call\n    setTimeout(() => {\n\n      // load more data\n\n      //Hide Infinite List Loader on Complete\n      event.target.complete();\n\n      //Rerender Virtual Scroll List After Adding New Data\n      this.virtualScroll.checkEnd();\n\n      // App logic to determine if all data is loaded\n      // and disable the infinite scroll\n      if (this.signinService.pcClips.length == 1000) {\n        event.target.disabled = true;\n      }\n    }, 500);\n  }\n  toggleInfiniteScroll() {\n    this.infiniteScroll.disabled = !this.infiniteScroll.disabled;\n  }\n  showToast(message : string) {\n  this.toast = this.toastCtrl.create({\n    message: message,\n    duration: 3000\n  }).then((toastData) => {\n    toastData.present();\n  });\n }\n validate() {\n    if ( this.title != undefined ) {\n     if (this.title.length < 4 )\n      this.message = this.messages.titleLenght;\n    }\n    else\n      this.message = this.messages.titleRequired;\n  }\n\n}\n\n","import { Clip } from '../models/clip';\nimport { User } from '../models/user';\nexport class Playclip {\n id : string;\n title: string = \"\";\n clips: Clip[];\n login: string = \"\";\n description: string = \"\";\n application: string = \"\";\n startDate: string = \"\";\n endDate: string = \"\";\n createdBy: string = \"\";\n createDate: string = \"\";\n thumbnail: string = \"\";\n likes: number = 0;\n archive: number = 0;\n price: number = 0.0;\n bought: number = 0;\n jwt: string;\n users: User[];\n}\n","import { Injectable } from '@angular/core';\nimport { Playclip } from '../models/playclip';\nimport { Observable, throwError } from 'rxjs';\nimport { retry, catchError } from 'rxjs/operators';\nimport { Api } from '../api';\nimport { SigninService } from './sign-in.service';\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PlayclipsService {\n  httpOptions = {\n    headers: new HttpHeaders({\n   'Content-Type': 'application/json',\n  })\n }\n  status: any;\n  playclip: Playclip = new Playclip();\n  constructor(private http: HttpClient, private api : Api, private signInService : SigninService) { }\n  createPlayclips(playclip: Playclip) : Observable<Playclip> {\n     this.delete(playclip.id);\n     return this.http.post<Playclip>(this.api.playclips + \"?application=playclips\", JSON.stringify(playclip), this.signInService.httpOptionsAuth).pipe( retry(2), catchError(this.handleError));\n  }\n   getPlayclips() : Observable<Playclip> {\n    return this.http\n      .get<Playclip>(this.api.playclips, this.signInService.httpOptionsAuth)\n    .pipe(\n    retry(2),\n    catchError(this.handleError));\n\n   }\n   getPlayclip(id) : Observable<Playclip> {\n    return this.http\n      .get<Playclip>(this.api.playclips + \"/\" + id, this.signInService.httpOptionsAuth)\n    .pipe(\n    retry(2),\n    catchError(this.handleError));\n   }\n   delete(id: string): void { \n      this.http.delete(this.api.playclips + \"/\" + id, this.signInService.httpOptionsAuth)\n      .subscribe(() => this.status = 'Delete successful');\n    }\n\n  handleError(error: HttpErrorResponse) {\n  if (error.error instanceof ErrorEvent) {\n  // A client-side or network error occurred. Handle it accordingly.\n     console.error('An error occurred:', error.error.message);\n  } else {\n  // The backend returned an unsuccessful response code.\n  // The response body may contain clues as to what went wrong,\n    console.error( `Backend returned code ${error.status}, ` + `body was: ${error.error}`);\n  }\n  // return an observable with a user-facing error message\n  return throwError( 'Something bad happened; please try again later.');\n }; \n  archive(playclip) : Observable<Playclip> {\n        return  this.http.post<Playclip>(this.api.archiveplayclip, JSON.stringify(playclip), this.signInService.httpOptionsAuth).pipe(\n                                        retry(2),\n                                        catchError(this.handleError));\n        }\n  bought(playclip) : Observable<Playclip> {\n        return  this.http.post<Playclip>(this.api.boughtplayclip, JSON.stringify(playclip), this.signInService.httpOptionsAuth).pipe(\n                                        retry(2),\n                                        catchError(this.handleError));\n}\n purge(): void {\n   this.http.get(this.api.purgeplayclip,this.signInService.httpOptionsAuth)\n     .subscribe(() => this.status = 'Purge successful');\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}